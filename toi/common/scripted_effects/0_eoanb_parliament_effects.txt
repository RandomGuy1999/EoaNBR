enact_voted_reform = {
	### CULTURE
	# RELIGION
	if = { # Atheist State
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 1.1
          		compare = equals
			}
		}
		add_ideas = atheistic_state
	}

	if = { # Secular State
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 1.2
          		compare = equals
			}
		}
		add_ideas = secular_state
	}

	if = { # State Religion
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 1.3
          		compare = equals
			}
		}
		add_ideas = state_religion
	}

	if = { # Theocratic State
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 1.4
          		compare = equals
			}
		}
		add_ideas = theocratic_state
	}

	# EDUCATION
	if = { # Oral Tradition
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 2.1
          		compare = equals
			}
		}
		add_ideas = oral_tradition
	}

	if = { # Priviledged Education
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 2.2
          		compare = equals
			}
		}
		add_ideas = privileged_education
	}

	if = { # Open Schools
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 2.3
          		compare = equals
			}
		}
		add_ideas = open_schools
	}

	if = { # Compulsory Education
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 2.4
          		compare = equals
			}
		}
		add_ideas = compulsory_education
	}

	# PRESS
	if = { # State Controlled Press
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 3.1
          		compare = equals
			}
		}
		add_ideas = state_controlled_press
	}

	if = { # Censored Press
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 3.2
          		compare = equals
			}
		}
		add_ideas = censored_press
	}

	if = { # Free Press
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 3.3
          		compare = equals
			}
		}
		add_ideas = free_press
	}

	# FREEDOM OF ASSEMBLY
	if = { # Banned
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 4.1
          		compare = equals
			}
		}
		add_ideas = foa_banned
	}

	if = { # State Only
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 4.2
          		compare = equals
			}
		}
		add_ideas = foa_state_only
	}

	if = { # Restricted Attendance
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 4.3
          		compare = equals
			}
		}
		add_ideas = foa_restricted_attendance
	}

	if = { # Non Socialists
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 4.4
          		compare = equals
			}
		}
		add_ideas = foa_non_socialist
	}

	if = { # Free Assembly
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 4.5
          		compare = equals
			}
		}
		add_ideas = foa_free_assembly
	}

	# TRADE UNIONS
	if = { # Prohibited
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 5.1
          		compare = equals
			}
		}
		add_ideas = tu_prohibited
	}

	if = { # State Controlled
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 5.2
          		compare = equals
			}
		}
		add_ideas = tu_state_controlled
	}

	if = { # Non Political
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 5.3
          		compare = equals
			}
		}
		add_ideas = tu_non_political
	}

	if = { # Free Unions
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 5.4
          		compare = equals
			}
		}
		add_ideas = tu_free_unions
	}

	if = { # General Comitee
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 5.5
          		compare = equals
			}
		}
		add_ideas = tu_general_comitee
	}

	# COURT
	if = { # Kangaroo Court
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 6.1
          		compare = equals
			}
		}
		add_ideas = kangaroo_court
	}

	if = { # Biased Courtroom
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 6.2
          		compare = equals
			}
		}
		add_ideas = biased_courtroom
	}

	if = { # High Judge Courtroom
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 6.3
          		compare = equals
			}
		}
		add_ideas = high_judge_courtroom
	}

	if = { # Quasi-Jury Court
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 6.4
          		compare = equals
			}
		}
		add_ideas = quasi_jury_court
	}

	if = { # Jury Court
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 6.5
          		compare = equals
			}
		}
		add_ideas = jury_court
	}

	### ECONOMY
	# TRADE LAWS
	if = { # Free Trade
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 7.1
          		compare = equals
			}
		}
		add_ideas = free_trade
	}

	if = { # Export Focus
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 7.2
          		compare = equals
			}
		}
		add_ideas = export_focus
	}

	if = { # Limited Exports
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 7.3
          		compare = equals
			}
		}
		add_ideas = limited_exports
	}

	if = { # Closed Economy
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 7.4
          		compare = equals
			}
		}
		add_ideas = closed_economy
	}

	# TAX RATES
	if = { # Very High Taxes
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 8.1
          		compare = equals
			}
		}
		add_ideas = very_high_taxes
	}

	if = { # High Taxes
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 8.2
          		compare = equals
			}
		}
		add_ideas = high_taxes
	}

	if = { # Normal Taxes
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 8.3
          		compare = equals
			}
		}
		add_ideas = normal_taxes
	}

	if = { # Low Taxes
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 8.4
          		compare = equals
			}
		}
		add_ideas = low_taxes
	}

	if = { # Very Low Taxes
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 8.5
          		compare = equals
			}
		}
		add_ideas = very_low_taxes
	}

	# CHILD LABOUR
	if = { # Legal
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 9.1
          		compare = equals
			}
		}
		add_ideas = cl_legal
	}

	if = { # Restricted
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 9.2
          		compare = equals
			}
		}
		add_ideas = cl_restricted
	}

	if = { # Illegal
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 9.3
          		compare = equals
			}
		}
		add_ideas = cl_illegal
	}

	# MAXIMUM WORKHOURS
	if = { # Unlimited Work Day
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 10.1
          		compare = equals
			}
		}
		add_ideas = unlimited_work_day
	}

	if = { # Fourteen Hour Work Day
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 10.2
          		compare = equals
			}
		}
		add_ideas = fourteen_hour_work_day
	}

	if = { # Twelve Hour Work Day
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 10.3
          		compare = equals
			}
		}
		add_ideas = twelve_hour_work_day
	}

	if = { # Ten Hour Work Day
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 10.4
          		compare = equals
			}
		}
		add_ideas = ten_hour_work_day
	}

	if = { # Eight Hour Work Day
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 10.5
          		compare = equals
			}
		}
		add_ideas = eight_hour_work_day
	}

	# LAND PROPERTY
	if = { # Serfdom
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 11.1
          		compare = equals
			}
		}
		add_ideas = lp_serfdom
	}

	if = { # Land Estates
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 11.2
          		compare = equals
			}
		}
		add_ideas = lp_land_estates
	}

	if = { # Land Purchase
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 11.3
          		compare = equals
			}
		}
		add_ideas = lp_land_purchase
	}

	if = { # Peasant Holdings
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 11.4
          		compare = equals
			}
		}
		add_ideas = lp_peasant_holdings
	}

	if = { # Collectivization
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 11.5
          		compare = equals
			}
		}
		add_ideas = lp_collectivization
	}

	# MILITARY SPENDAGE
	if = { # Ten Percent
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 12.1
          		compare = equals
			}
		}
		add_ideas = ten_percent
	}

	if = { # Five Percent
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 12.2
          		compare = equals
			}
		}
		add_ideas = five_percent
	}

	if = { # Three Percent
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 12.3
          		compare = equals
			}
		}
		add_ideas = three_percent
	}

	if = { # Two Percent
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 12.4
          		compare = equals
			}
		}
		add_ideas = two_percent
	}

	if = { # One Percent
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 12.5
          		compare = equals
			}
		}
		add_ideas = one_percent
	}

	### POPULATION
	# GROWTH POLICY
	if = { # Enforced Growth
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 13.1
          		compare = equals
			}
		}
		add_ideas = enforced_growth
	}

	if = { # Encouraged Growth
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 13.2
          		compare = equals
			}
		}
		add_ideas = encouraged_growth
	}

	if = { # Stagnation Growth
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 13.3
          		compare = equals
			}
		}
		add_ideas = stagnation_growth
	}

	if = { # Disencouraged Growth
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 13.4
          		compare = equals
			}
		}
		add_ideas = disencouraged_growth
	}

	if = { # Restricted Growth
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 13.5
          		compare = equals
			}
		}
		add_ideas = restricted_growth
	}

	# BORDER LAWS
	if = { # Closed Borders
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 14.1
          		compare = equals
			}
		}
		add_ideas = closed_borders
	}

	if = { # Border Control
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 14.2
          		compare = equals
			}
		}
		add_ideas = border_control
	}

	if = { # Open Borders
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 14.3
          		compare = equals
			}
		}
		add_ideas = open_borders
	}

	if = { # No Borders
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 14.4
          		compare = equals
			}
		}
		add_ideas = no_borders
	}

	# DISCRIMINATORY LAWS
	if = { # Tribal Slavery
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.1
          		compare = equals
			}
		}
		add_ideas = tribal_slavery
	}

	if = { # Slavery
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.2
          		compare = equals
			}
		}
		add_ideas = slavery
	}

	if = { # Slavery in all but Name
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.3
          		compare = equals
			}
		}
		add_ideas = slavery_all_but_name
	}

	if = { # Racial Laws
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.4
          		compare = equals
			}
		}
		add_ideas = racial_laws
	}

	if = { # Segregation
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.5
          		compare = equals
			}
		}
		add_ideas = segregation
	}

	if = { # Limited Equality
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.6
          		compare = equals
			}
		}
		add_ideas = limited_equality
	}

	if = { # Full Equality
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 15.7
          		compare = equals
			}
		}
		add_ideas = full_equality
	}

	# MOBILIZATION LAWS
	if = { # Disarmed Nation
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.1
          		compare = equals
			}
		}
		add_ideas = disarmed_nation
	}

	if = { # Volunteer Only
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.2
          		compare = equals
			}
		}
		add_ideas = volunteer_only
	}

	if = { # Limited Conscription
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.3
          		compare = equals
			}
		}
		add_ideas = limited_conscription
	}

	if = { # Extensive Conscription
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.4
          		compare = equals
			}
		}
		add_ideas = extensive_conscription
	}

	if = { # Service by Requirement
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.5
          		compare = equals
			}
		}
		add_ideas = service_by_requirement
	}

	if = { # All Adults Serve
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.6
          		compare = equals
			}
		}
		add_ideas = all_adults_serve
	}

	if = { # Scraping the Barrel
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 16.7
          		compare = equals
			}
		}
		add_ideas = scraping_the_barrel
	}

	# SUFFRAGE
	if = { # Absolutism
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 17.1
          		compare = equals
			}
		}
		add_ideas = absolutism
	}

	if = { # Parliamentary Suffrage
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 17.2
          		compare = equals
			}
		}
		add_ideas = parliamentary_suffrage
	}

	if = { # Property Owners Suffrage
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 17.3
          		compare = equals
			}
		}
		add_ideas = property_owners_suffrage
	}

	if = { # Universal Male Suffrage
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 17.4
          		compare = equals
			}
		}
		add_ideas = universal_male_suffrage
	}

	if = { # Universal Suffrage
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 17.5
          		compare = equals
			}
		}
		add_ideas = universal_suffrage
	}

	# POLITICAL PARTIES
	if = { # Open Politics
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 18.1
          		compare = equals
			}
		}
		add_ideas = pp_open_politics
	}

	if = { # Ban Extremist Parties
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 18.2
          		compare = equals
			}
		}
		add_ideas = pp_ban_extremist_parties
	}

	if = { # Limited Party Freedom
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 18.3
          		compare = equals
			}
		}
		add_ideas = pp_limited_party_freedom
	}

	if = { # Underground Parties
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 18.4
          		compare = equals
			}
		}
		add_ideas = pp_underground_parties
	}

	### INTERNAL BUDGET
	# HEALTHCARE
	if = { # No Healthcare
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 19.1
          		compare = equals
			}
		}
		add_ideas = hc_no_healthcare
	}

	if = { # Low Healthcare
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 19.2
          		compare = equals
			}
		}
		add_ideas = hc_low_healthcare
	}

	if = { # Decent Healthcare
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 19.3
          		compare = equals
			}
		}
		add_ideas = hc_decent_healthcare
	}

	if = { # Good Healthcare
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 19.4
          		compare = equals
			}
		}
		add_ideas = hc_good_healthcare
	}

	if = { # Excellent Healthcare
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 19.5
          		compare = equals
			}
		}
		add_ideas = hc_excellent_healthcare
	}

	# LAW AND ORDER
	if = { # No Organized Force
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 20.1
          		compare = equals
			}
		}
		add_ideas = hc_no_healthcare
	}

	if = { # Mercenary Groups
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 20.2
          		compare = equals
			}
		}
		add_ideas = law_mercenary_groups
	}

	if = { # Military Police Force
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 20.3
          		compare = equals
			}
		}
		add_ideas = law_military_police_force
	}

	if = { # Paramilitary Police Force
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 20.4
          		compare = equals
			}
		}
		add_ideas = law_paramilitary_police_force
	}

	if = { # Police Force
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 20.5
          		compare = equals
			}
		}
		add_ideas = law_police_force
	}

	# ROAD MAINTENANCE
	if = { # No Subsidies
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 21.1
          		compare = equals
			}
		}
		add_ideas = inframain_no_subsidies_infrastructure
	}

	if = { # Basic Maintenance
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 21.2
          		compare = equals
			}
		}
		add_ideas = inframain_basic_maintenance_infrastructure
	}

	if = { # Well Maintained
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 21.3
          		compare = equals
			}
		}
		add_ideas = inframain_well_maintaned_infrastructure
	}

	if = { # Steady Network Expansion
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 21.4
          		compare = equals
			}
		}
		add_ideas = inframain_steady_network_expansion
	}

	if = { # Rapid Network Extension
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 21.5
          		compare = equals
			}
		}
		add_ideas = inframain_rapid_network_expansion
	}

	# NAVAL INFRASTRUCTURE MAINTENANCE
	if = { # No Naval Infrastructure
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 22.1
          		compare = equals
			}
		}
		add_ideas = navinfra_no_naval_infrastructure
	}

	if = { # Low Naval Infrastructure
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 22.2
          		compare = equals
			}
		}
		add_ideas = navinfra_low_naval_infrastructure
	}

	if = { # Decent Naval Infrastructure
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 22.3
          		compare = equals
			}
		}
		add_ideas = navinfra_decent_naval_infrastructure
	}

	if = { # Good Naval Infrastructure
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 22.4
          		compare = equals
			}
		}
		add_ideas = navinfra_good_naval_infrastructure
	}

	if = { # Excellent Naval Infrastructure
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 22.5
          		compare = equals
			}
		}
		add_ideas = navinfra_excellent_naval_infrastructure
	}

	# ECONOMIC MOBILIZATION
	if = { # Undisturbed Isolation
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.1
          		compare = equals
			}
		}
		add_ideas = undisturbed_isolation
	}

	if = { # Isolation
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.2
          		compare = equals
			}
		}
		add_ideas = isolation
	}

	if = { # Civilian Economy
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.3
          		compare = equals
			}
		}
		add_ideas = civilian_economy
	}

	if = { # Low Economic Mobilization
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.4
          		compare = equals
			}
		}
		add_ideas = low_economic_mobilisation
	}

	if = { # Partial Economic Mobilization
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.5
          		compare = equals
			}
		}
		add_ideas = partial_economic_mobilisation
	}

	if = { # War Economy
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.6
          		compare = equals
			}
		}
		add_ideas = war_economy
	}

	if = { # Total Economic Mobilization
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 23.7
          		compare = equals
			}
		}
		add_ideas = tot_economic_mobilisation
	}

	# SCIENTIFIC FUNDING
	if = { # Private Ventures
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 24.1
          		compare = equals
			}
		}
		add_ideas = sfund_private_ventures_only
	}

	if = { # Limited State Sponsorship
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 24.2
          		compare = equals
			}
		}
		add_ideas = sfund_limited_state_sponsorship
	}

	if = { # Regular State Sponsorship
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 24.3
          		compare = equals
			}
		}
		add_ideas = sfund_regular_state_sponsorship
	}

	if = { # Excellent State Sponsorship
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 24.4
          		compare = equals
			}
		}
		add_ideas = sfund_excellent_state_sponsorship
	}
	
	# PRUSSIAN PARLIAMENT VOTING ACTS
	if = { # Expand Prussian Voting Rights
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.1
          		compare = equals
			}
		}
		PRS = {
			remove_ideas = PRS_idea_three_class_franchise
			if = {
				limit = {
					PRS = { has_idea = absolutism }
				}
				swap_ideas = { remove_idea = absolutism add_idea = parliamentary_suffrage }
			}
			else_if = {
				limit = {
					PRS = { has_idea = property_owners_suffrage }
				}
				swap_ideas = { remove_idea = property_owners_suffrage add_idea = parliamentary_suffrage }
			}
			else_if = {
				limit = {
					PRS = { has_idea = parliamentary_suffrage }
				}
				swap_ideas = { remove_idea = parliamentary_suffrage add_idea = universal_male_suffrage }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	if = { # Ministerial Responsibility Act
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.2
          		compare = equals
			}
		}
		PRS = {
			add_stability = 0.05
			swap_ideas = { remove_idea = PRS_idea_british_style_rule add_idea = PRS_idea_british_style_rule_2 }
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	if = { # Adoption of the New Constitution
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.3
          		compare = equals
			}
		}
		PRS = { add_ideas = PRS_idea_rule_of_law }
		PRS = {
			if = {
				limit = {
					PRS = { has_idea = no_constitution }
				}
				swap_ideas = { remove_idea = no_constitution add_idea = constitution_adopted }
			}
			else_if = {
				limit = {
					PRS = { has_idea = limited_constitution }
				}
				swap_ideas = { remove_idea = limited_constitution add_idea = constitution_adopted }
			}
			else_if = {
				limit = {
					PRS = { has_idea = human_rights }
				}
				swap_ideas = { remove_idea = human_rights add_idea = constitution_adopted }
			}
		}
		PRS = {
			if = {
				limit = {
					has_idea = absolute_monarchy
				}
				swap_ideas = { remove_idea = absolute_monarchy add_idea = constitutional_monarchy }
			}
			else_if = {
				limit = {
					has_idea = constitutional_monarchy
				}
				swap_ideas = { remove_idea = constitutional_monarchy add_idea = parliamentary_monarchy }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	if = { # Parliamentary Approval for Anglo-Prussian Naval Treaty
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.4
          		compare = equals
			}
		}
		ENG = { country_event = { days = 1 id = prussiaforeign.40 } }
	}
	
	if = { # Trade and Tariffs Act - Free
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.5
          		compare = equals
			}
		}
		PRS = {
			if = {
				limit = {
					has_idea = limited_exports
				}
				swap_ideas = { remove_idea = limited_exports add_idea = free_trade }
			}
			else_if = {
				limit = {
					has_idea = export_focus
				}
				swap_ideas = { remove_idea = export_focus add_idea = free_trade }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	if = { # Longer Legislative Terms - Quinquennial Act
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.6
          		compare = equals
			}
		}
		PRS = { 
			add_stability = 0.05
			swap_ideas = { remove_idea = PRS_idea_prussian_style_liberalism add_idea = PRS_idea_prussian_style_liberalism_2 }
		}
	}
	
	if = { # Adoption of Prussian Constitutionalism
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.7
          		compare = equals
			}
		}
		PRS = { add_ideas = PRS_idea_prussian_constitutionalism }
		PRS = {
			if = {
				limit = {
					PRS = { has_idea = no_constitution }
				}
				swap_ideas = { remove_idea = no_constitution add_idea = limited_constitution }
			}
			else_if = {
				limit = {
					PRS = { has_idea = limited_constitution }
				}
				swap_ideas = { remove_idea = limited_constitution add_idea = human_rights }
			}
			else_if = {
				limit = {
					PRS = { has_idea = human_rights }
				}
				swap_ideas = { remove_idea = human_rights add_idea = constitution_adopted }
			}
		}
		PRS = {
			if = {
				limit = {
					PRS = { 
						has_idea = absolute_monarchy
					}
				}
				swap_ideas = { remove_idea = absolute_monarchy add_idea = constitutional_monarchy }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	if = { # Trade and Tariffs Act - Open
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 25.8
          		compare = equals
			}
		}
		PRS = {
			if = {
				limit = {
					has_idea = limited_exports
				}
				swap_ideas = { remove_idea = limited_exports add_idea = export_focus }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_active_mission = PRS_mission_liberalize_prussia
				}
				clr_country_flag = PRS_liberalization_in_progress_flag
			}
		}
	}
	
	# DANISH PARLIAMENT VOTING ACTS
	if = { # Vote on Moving the Copenhagen Naval Base to Holmen
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 26.3
          		compare = equals
			}
		}
		DEN = {
			37 = { add_extra_state_shared_building_slots = 1 }
			37 = { add_building_construction = { type = naval_base level = 1 instant_build = yes province = 6287 } }
			if = {
				limit = {
					has_idea = navinfra_low_naval_infrastructure
				}
				swap_ideas = { remove_idea = navinfra_low_naval_infrastructure add_idea = navinfra_decent_naval_infrastructure }
			}
			else_if = {
				limit = {
					has_idea = navinfra_no_naval_infrastructure
				}
				swap_ideas = { remove_idea = navinfra_no_naval_infrastructure add_idea = navinfra_low_naval_infrastructure }
			}
		}
	}
	
	if = { # Vote on Wartime Infantry Battalion Duplication
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 26.4
          		compare = equals
			}
		}
		hidden_effect = {
			DEN = { set_country_flag = DEN_wartime_battalion_duplication_flag }
		}
	}
	
	if = { # Vote on Danish Conscription Act
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 26.5
          		compare = equals
			}
		}
		DEN = {
			if = {
				limit = {
					has_idea = limited_conscription
				}
				swap_ideas = { remove_idea = limited_conscription add_idea = extensive_conscription }
			}
			else_if = {
				limit = {
					has_idea = early_conscription
				}
				swap_ideas = { remove_idea = early_conscription add_idea = limited_conscription }
			}
			else_if = {
				limit = {
					has_idea = volunteer_only
				}
				swap_ideas = { remove_idea = volunteer_only add_idea = early_conscription }
			}
		}
	}
	
	if = { # Vote on Danish Army Budget Act
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 26.6
          		compare = equals
			}
		}
		DEN = {
			if = {
				limit = {
					has_idea = three_percent
				}
				swap_ideas = { remove_idea = three_percent add_idea = five_percent }
			}
			else_if = {
				limit = {
					has_idea = two_percent
				}
				swap_ideas = { remove_idea = two_percent add_idea = three_percent }
			}
			else_if = {
				limit = {
					has_idea = one_percent
				}
				swap_ideas = { remove_idea = one_percent add_idea = two_percent }
			}
		}
	}
	
	if = { # Vote on Danish Navy Budget Act
		limit = {
			check_variable = { 
				var = current_reform_id
				value = 26.7
          		compare = equals
			}
		}
		DEN = {
			if = {
				limit = {
					has_idea = navinfra_decent_naval_infrastructure
				}
				swap_ideas = { remove_idea = navinfra_decent_naval_infrastructure add_idea = navinfra_good_naval_infrastructure }
			}
			else_if = {
				limit = {
					has_idea = navinfra_low_naval_infrastructure
				}
				swap_ideas = { remove_idea = navinfra_low_naval_infrastructure add_idea = navinfra_decent_naval_infrastructure }
			}
			else_if = {
				limit = {
					has_idea = navinfra_no_naval_infrastructure
				}
				swap_ideas = { remove_idea = navinfra_no_naval_infrastructure add_idea = navinfra_decent_naval_infrastructure }
			}
		}
	}
}

set_deterministic_vote = {
	set_country_flag = parl_vote_deterministic
}

set_executive_cooldown = {
	set_country_flag = parl_executive_order_flag
	set_variable = { parl_executive_cooldown = 30 }
}


###################################################################################################

 	#      #####  #####  #####  #####  #####  #   #   ###    ###   #   #
 	#      #      #        #      #      #    ## ##  #   #  ##  #   # #
 	#      ##     #  ##    #      #      #    # # #  #####  #        #
 	#      #      #   #    #      #      #    #   #  #   #  ##  #    #
 	#####  #####  #####  #####    #    #####  #   #  #   #   ###     #

###################################################################################################

eoanb_political_legitimacy_reset = {
	randomize_variable = {
		var = political_legitimacy
		min = 0.55
		max = 0.75
	}
	eoanb_political_legitimacy_change = yes
}

eoanb_political_legitimacy_drift_calc = {
	# Equilibrium Base
	set_variable = { political_legitimacy_equilibrium = 0.68 }
	
	# Equilibrium Modifiers
	if = {
		limit = { is_subject = no }
		if = {
			limit = { has_offensive_war = yes }
			add_to_variable = { political_legitimacy_equilibrium = -0.05 }
		}
		if = {
			limit = { has_defensive_war = yes }
			add_to_variable = { political_legitimacy_equilibrium = 0.03 }
		}
	}
	else = {
		add_to_variable = { political_legitimacy_equilibrium = -0.05 }
	}
	if = {
		limit = { 
			OR = {
				AND = {
					tag = PAP
					has_idea = religion_catholic
				}
				AND = {
					OR = {
						has_idea = religion_sunni
						has_idea = religion_shiite
						has_idea = religion_ibadi
					}
					controls_state = 679
				}
				AND = {
					has_idea = religion_jewish
					controls_state = 1332
				}
			}
		}
		add_to_variable = { political_legitimacy_equilibrium = 0.10 }
	}
	if = {
		limit = {
			OR = {
				has_government = anarchism
				AND = {
					has_government = autocracy
					has_idea = absolute_monarchy
				}
			}
		}
		if = {
			limit = { has_government = anarchism }
			add_to_variable = { political_legitimacy_equilibrium = -0.10 }
		}
		else_if = {
			limit = { 
				has_government = autocracy
				has_idea = no_heir
			}
			add_to_variable = { political_legitimacy_equilibrium = -0.10 }
		}
		else_if = {
			limit = {
				has_government = autocracy
				OR = {
					has_idea = dethroned_heir
					has_idea = weak_heir
				}
			}
			add_to_variable = { political_legitimacy_equilibrium = -0.05 }
		}
		else_if = {
			limit = {
				has_government = autocracy
				has_idea = nonfamily_heir
			}
			add_to_variable = { political_legitimacy_equilibrium = -0.02 }
		}
		else_if = {
			limit = {
				has_government = autocracy
				has_idea = has_heir
			}
			add_to_variable = { political_legitimacy_equilibrium = 0.05 }
		}
	}
	else = {
		if = {
			limit = {
				check_variable = { party_popularity@ruling_party < 0.35 }
				check_variable = { highest_party_popularity@exclude_ruling_party > 0.49 }
			}
			add_to_variable = { political_legitimacy_equilibrium = -0.10 }
		}
		if = {
			limit = { has_idea = no_constitution }
			add_to_variable = { political_legitimacy_equilibrium = -0.05 }
		}
		else_if = {
			limit = { has_idea = human_rights }
			add_to_variable = { political_legitimacy_equilibrium = -0.01 }
		}
		else_if = {
			limit = { has_idea = constitution_adopted }
			add_to_variable = { political_legitimacy_equilibrium = 0.01 }
		}
		else_if = {
			limit = { has_idea = limited_constitution }
			add_to_variable = { political_legitimacy_equilibrium = 0.05 }
		}
		else_if = {
			limit = {
				has_idea = sharia_constitution
				OR = {
					has_idea = religion_sunni
					has_idea = religion_shiite
					has_idea = religion_ibadi
				}
			}
			add_to_variable = { political_legitimacy_equilibrium = 0.07 }
		}
		else_if = {
			limit = {
				has_idea = sharia_constitution
				NOT = {
					OR = {
						has_idea = religion_sunni
						has_idea = religion_shiite
						has_idea = religion_ibadi
					}
				}
			}
			add_to_variable = { political_legitimacy_equilibrium = -0.07 }
		}
	}
	if = {
		limit = { check_variable = { pol_stability < -2 } }
		add_to_variable = { political_legitimacy_equilibrium = -0.09 }
	}
	else_if = {
		limit = { check_variable = { pol_stability = -2 } }
		add_to_variable = { political_legitimacy_equilibrium = -0.06 }
	}
	else_if = {
		limit = { check_variable = { pol_stability = -1 } }
		add_to_variable = { political_legitimacy_equilibrium = -0.03 }
	}
	else_if = {
		limit = { check_variable = { pol_stability = 1 } }
		add_to_variable = { political_legitimacy_equilibrium = 0.03 }
	}
	else_if = {
		limit = { check_variable = { pol_stability = 2 } }
		add_to_variable = { political_legitimacy_equilibrium = 0.06 }
	}
	else_if = {
		limit = { check_variable = { pol_stability = 3 } }
		add_to_variable = { political_legitimacy_equilibrium = 0.09 }
	}
	if = {
		limit = {
			OR = {
				has_idea = VIN_Spirit_Dinh_Dao_Opposition1
				has_idea = VIN_Spirit_Dinh_Dao_Opposition2
				has_idea = VIN_Spirit_Dinh_Dao_Opposition3
				has_idea = VIN_Spirit_Dinh_Dao_Opposition4
			}
		}
		add_to_variable = { political_legitimacy_equilibrium = -0.10 }
	}		
	if = {
		limit = { has_idea = edc_bankrupt }
		add_to_variable = { political_legitimacy_equilibrium = -0.30 }
	}
	else_if = {
		limit = { has_idea = edc_bankrupt_reduced }
		add_to_variable = { political_legitimacy_equilibrium = -0.15 }
	}
	else_if = {
		limit = {
			OR = {
				has_idea = egy_public_consered_debt_1
				has_idea = egy_public_consered_debt_2
				has_idea = egy_public_consered_debt_3
				has_idea = egy_public_consered_debt_4
				has_idea = egy_public_consered_debt_5
			}
		}
		if = {
			limit = { has_idea = egy_public_consered_debt_1 }
			add_to_variable = { political_legitimacy_equilibrium = -0.01 }
		}
		if = {
			limit = { has_idea = egy_public_consered_debt_2 }
			add_to_variable = { political_legitimacy_equilibrium = -0.02 }
		}
		if = {
			limit = { has_idea = egy_public_consered_debt_3 }
			add_to_variable = { political_legitimacy_equilibrium = -0.03 }
		}
		if = {
			limit = { has_idea = egy_public_consered_debt_4 }
			add_to_variable = { political_legitimacy_equilibrium = -0.04 }
		}
		if = {
			limit = { has_idea = egy_public_consered_debt_5 }
			add_to_variable = { political_legitimacy_equilibrium = -0.05 }
		}
		if = {
			limit = {
				check_variable = { debt_level > 4 }
			}
			set_temp_variable = { political_legitimacy_equilibrium_debt = debt_level }
			divide_temp_variable = { political_legitimacy_equilibrium_debt = -250 }
			add_to_variable = { political_legitimacy_equilibrium = political_legitimacy_equilibrium_debt }
		}
	}
	if = {
		limit = { is_great_power = yes }
		add_to_variable = { political_legitimacy_equilibrium = 0.05 }
	}
	else_if = {
		limit = { is_secondary_power = yes }
		add_to_variable = { political_legitimacy_equilibrium = 0.03 }
	}
	else_if = {
		limit = { is_minor_power = yes }
		add_to_variable = { political_legitimacy_equilibrium = 0.01 }
	}
	add_to_variable = { political_legitimacy_equilibrium = political_legitimacy_equilibrium_custom }

	# Drift Calculation
	clamp_variable = {
		var = political_legitimacy_equilibrium
		min = 0.20
		max = 0.99
	}
	set_temp_variable = { political_legitimacy_equilibrium_difference = political_legitimacy_equilibrium }
	subtract_from_temp_variable = { political_legitimacy_equilibrium_difference = political_legitimacy }
	
	if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference < -0.29 } }
		set_variable = { political_legitimacy_drift = -0.04 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference < -0.19 } }
		set_variable = { political_legitimacy_drift = -0.03 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference < -0.09 } }
		set_variable = { political_legitimacy_drift = -0.02 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference < 0 } }
		set_variable = { political_legitimacy_drift = -0.01 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference > 0.29  } }
		set_variable = { political_legitimacy_drift = 0.04 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference > 0.19  } }
		set_variable = { political_legitimacy_drift = 0.03 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference > 0.09 } }
		set_variable = { political_legitimacy_drift = 0.02 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference > 0 } }
		set_variable = { political_legitimacy_drift = 0.01 }
	}
	else_if = {
		limit = { check_variable = { political_legitimacy_equilibrium_difference = 0 } }
		set_variable = { political_legitimacy_drift = 0.0 }
	}
}

# Monthly Legitimacy Drift
eoanb_political_legitimacy_drift = {

	# Initialize Legitimacy
	if = {
		limit = { NOT = { has_variable = political_legitimacy } }
		randomize_variable = {
			var = political_legitimacy
			distribution = uniform
			min = 0.6
			max = 0.8
		}
	}
	if = {
		limit = { NOT = { has_dynamic_modifier = { modifier = legitimacy_dynamic_modifier } } }
		add_dynamic_modifier = { modifier = legitimacy_dynamic_modifier }
	}

	eoanb_political_legitimacy_drift_calc = yes
	
	# Apply Drift
	set_temp_variable = { political_legitimacy_change = political_legitimacy_drift }
	eoanb_political_legitimacy_change = yes
}		

eoanb_political_legitimacy_change = {
	add_to_variable = {
		var = political_legitimacy
		value = political_legitimacy_change
		tooltip = eoanb_political_legitimacy_change_tt
	}
	add_to_variable = { political_legitimacy = political_legitimacy_change }

	clamp_variable = {
		var = political_legitimacy
		min = 0
		max = 1
	}

	set_temp_variable = { full_legitimacy_temp_value = -0.70 }
	add_to_temp_variable = { full_legitimacy_temp_value = political_legitimacy }

	set_variable = { legitimacy_ppg = full_legitimacy_temp_value }
	divide_temp_variable = { full_legitimacy_temp_value = 2 }
	set_variable = { legitimacy_wsf = full_legitimacy_temp_value }
	multiply_temp_variable = { full_legitimacy_temp_value = -1 }
	set_variable = { legitimacy_pacf = full_legitimacy_temp_value }
}

setup_initial_coalitions = {
	# 0 is Neutral
	# 1 is in Ruling Coalition
	# 2 is in Opposition Coalition
	# 3 is Banned Party
	# 4 Is an Ununorganized Party

	resize_array = {
		array = parl_coalitions
		value = 0
		size = 9
	}
}

reverse_coalitions = {
	for_each_loop = {
		array = parl_coalitions
		value = parl_v
		index = parl_i
		
		if = {
			limit = {
				check_variable = { parl_coalitions^parl_i = 1 }
			}
			set_variable = { parl_coalitions^parl_i = 2 }
		}

		else = {
			if = {
				limit = {
					check_variable = { parl_coalitions^parl_i = 2 }
				}
				set_variable = { parl_coalitions^parl_i = 1 }
			}
		}
	}
}

set_all_opposition_to_neutral = {
	for_each_loop = {
		array = parl_coalitions
		value = parl_v
		index = parl_i
		
		if = {
			limit = {
				check_variable = { parl_coalitions^parl_i = 2 }
			}
			set_variable = { parl_coalitions^parl_i = 0 }
		}
	}
}

####################################################################################################

#   # ##### #   # ##### ####   ###  #
##  # #	 #   #   #   #   # #   # #
# # # ###   #   #   #   ####  ##### #
#  ## #	 #   #   #   #   # #   # #
#   # #####  ###	#   #   # #   # #####

####################################################################################################

set_van_com_to_neutral = {
	set_variable = { parl_coalitions^0 = 0 }
}

set_col_soc_to_neutral = {
	set_variable = { parl_coalitions^1 = 0 }
}

set_soc_ega_to_neutral = {
	set_variable = { parl_coalitions^2 = 0 }
}

set_cen_to_neutral = {
	set_variable = { parl_coalitions^3 = 0 }
}

set_tra_con_to_neutral = {
	set_variable = { parl_coalitions^4 = 0 }
}

set_rad_dem_to_neutral = {
	set_variable = { parl_coalitions^5 = 0 }
}

set_chauv_pop_to_neutral = {
	set_variable = { parl_coalitions^6 = 0 }
}

set_aut_to_neutral = {
	set_variable = { parl_coalitions^7 = 0 }
}

set_fun_to_neutral = {
	set_variable = { parl_coalitions^8 = 0 }
}

####################################################################################################

 ####  ###   ###  #	 ##### ##### #####  ###  #   #
#	 #   # #   # #	   #	 #	 #   #   # ##  #
#	 #   # ##### #	   #	 #	 #   #   # # # #
#	 #   # #   # #	   #	 #	 #   #   # #  ##
 ####  ###  #   # ##### #####   #   #####  ###  #   #

####################################################################################################

add_van_com_to_coalition = {
	set_variable = { parl_coalitions^0 = 1 }
}

add_col_soc_to_coalition = {
	set_variable = { parl_coalitions^1 = 1 }
}

add_soc_ega_to_coalition = {
	set_variable = { parl_coalitions^2 = 1 }
}

add_cen_to_coalition = {
	set_variable = { parl_coalitions^3 = 1 }
}

add_tra_con_to_coalition = {
	set_variable = { parl_coalitions^4 = 1 }
}

add_rad_dem_to_coalition = {
	set_variable = { parl_coalitions^5 = 1 }
}

add_chauv_pop_to_coalition = {
	set_variable = { parl_coalitions^6 = 1 }
}

add_aut_to_coalition = {
	set_variable = { parl_coalitions^7 = 1 }
}

add_fun_to_coalition = {
	set_variable = { parl_coalitions^8 = 1 }
}

####################################################################################################

 ###  ####  ####   ###   #### ##### ##### #####  ###  #   #
#   # #   # #   # #   # #	   #	 #	 #   #   # ##  #
#   # ####  ####  #   #  ###	#	 #	 #   #   # # # #
#   # #	 #	 #   #	 #   #	 #	 #   #   # #  ##
 ###  #	 #	  ###  ####  #####   #   #####  ###  #   #

####################################################################################################

add_van_com_to_opposition = {
	set_variable = { parl_coalitions^0 = 2 }
}

add_col_soc_to_opposition = {
	set_variable = { parl_coalitions^1 = 2 }
}

add_soc_ega_to_opposition = {
	set_variable = { parl_coalitions^2 = 2 }
}

add_cen_to_opposition = {
	set_variable = { parl_coalitions^3 = 2 }
}

add_tra_con_to_opposition = {
	set_variable = { parl_coalitions^4 = 2 }
}

add_rad_dem_to_opposition = {
	set_variable = { parl_coalitions^5 = 2 }
}

add_chauv_pop_to_opposition = {
	set_variable = { parl_coalitions^6 = 2 }
}

add_aut_to_opposition = {
	set_variable = { parl_coalitions^7 = 2 }
}

add_fun_to_opposition = {
	set_variable = { parl_coalitions^8 = 2 }
}

####################################################################################################

####   ###  #   #
#   # #   # ##  #
####  ##### # # #
#   # #   # #  ##
####  #   # #   #

####################################################################################################

ban_van_com_party = {
	set_variable = { parl_coalitions^0 = 3 }
}

ban_col_soc_party = {
	set_variable = { parl_coalitions^1 = 3 }
}

ban_soc_ega_party = {
	set_variable = { parl_coalitions^2 = 3 }
}

ban_cen_party = {
	set_variable = { parl_coalitions^3 = 3 }
}

ban_tra_con_party = {
	set_variable = { parl_coalitions^4 = 3 }
}

ban_rad_dem_party = {
	set_variable = { parl_coalitions^5 = 3 }
}

ban_chauv_pop_party = {
	set_variable = { parl_coalitions^6 = 3 }
}

ban_aut_party = {
	set_variable = { parl_coalitions^7 = 3 }
}

ban_fun_party = {
	set_variable = { parl_coalitions^8 = 3 }
}

####################################################################################################

#   # #   #  ###  ####   ####  ###  #   # ##### ##### ##### ####
#   # ##  # #   # #   # #	 #   # ##  #   #	   # #	 #   #
#   # # # # #   # ####  # ### ##### # # #   #	###  ###   #   #
#   # #  ## #   # #   # #   # #   # #  ##   #   #	 #	 #   #
 ###  #   #  ###  #   #  ###  #   # #   # ##### ##### ##### ####

####################################################################################################

unorganize_van_com_party = {
	set_variable = { parl_coalitions^0 = 4 }
}

unorganize_col_soc_party = {
	set_variable = { parl_coalitions^1 = 4 }
}

unorganize_soc_ega_party = {
	set_variable = { parl_coalitions^2 = 4 }
}

unorganize_cen_party = {
	set_variable = { parl_coalitions^3= 4 }
}

unorganize_tra_con_party = {
	set_variable = { parl_coalitions^4 = 4 }
}

unorganize_rad_dem_party = {
	set_variable = { parl_coalitions^5 = 4 }
}

unorganize_chauv_pop_party = {
	set_variable = { parl_coalitions^6 = 4 }
}

unorganize_aut_party = {
	set_variable = { parl_coalitions^7 = 4 }
}

unorganize_fun_party = {
	set_variable = { parl_coalitions^8 = 4 }
}
parl_print_variables = {
	print_variables = {
	    file = parl_log_file
	    append = no
	    print_global = yes
	}
}

set_initial_weights = {
	resize_array = {
	    array = parl_weights
	    value = 1
	    size = 9
	}

	resize_array = {
	    array = parl_weights_normalized
	    value = 0
	    size = 9
	}

	set_variable = { parl_weights^0 = party_popularity@vanguard_communism }
	set_variable = { parl_weights^1 = party_popularity@collectivist_socialism }
	set_variable = { parl_weights^2 = party_popularity@social_egalitarianism }
	set_variable = { parl_weights^3 = party_popularity@centrism }
	set_variable = { parl_weights^4 = party_popularity@traditional_conservatism }
	set_variable = { parl_weights^5 = party_popularity@radical_democracy }
	set_variable = { parl_weights^6 = party_popularity@chauvinist_populism }
	set_variable = { parl_weights^7 = party_popularity@autocracy }
	set_variable = { parl_weights^8 = party_popularity@fundamentalism }

	set_variable = {
	    var = tot_parl_weight
	    value = 0
	}

	for_each_loop = {
	    array = parl_weights
	    value = parl_v
	    index = parl_i
	    
	    add_to_variable = {
		    var = tot_parl_weight
		    value = parl_v
		}
	}

	for_each_loop = {
	    array = parl_weights_normalized
	    value = parl_v
	    index = parl_i

	    set_variable = { parl_weights_normalized^parl_i = parl_weights^parl_i }
	    
	    divide_variable = {
		    var = parl_weights_normalized^parl_i
		    value = tot_parl_weight
		}
	}
}

apply_coalition_modifier = {
	for_each_loop = {
	    array = parl_weights_normalized
	    value = parl_v
	    index = parl_i
	    
	    if = {
	    	limit = {
	    		check_variable = { parl_coalitions^parl_i = 1 }
	    	}

	    	multiply_variable = { parl_weights_normalized^parl_i = 1.02 }
	    }

	    else = {
	    	if = {
		    	limit = {
		    		check_variable = { parl_coalitions^parl_i = 2 }
		    	}

		    	multiply_variable = { parl_weights_normalized^parl_i = 0.98 }
	    	}

	    	else = {
	    		if = {
			    	limit = {
			    		check_variable = { parl_coalitions^parl_i = 3 }
			    	}

			    	set_variable = { parl_weights_normalized^parl_i = 0 }
		    	}

		    	else = {
		    		if = {
				    	limit = {
				    		check_variable = { parl_coalitions^parl_i = 4 }
				    	}

				    	multiply_variable = { parl_weights_normalized^parl_i = 0.25 }
			    	}
		    	}
	    	}
	    }
	}
}

compute_weights = {
	set_variable = {
	    var = tot_parl_weight
	    value = 0
	}

	for_each_loop = {
	    array = parl_weights
	    value = parl_v
	    index = parl_i
	    
	    set_variable = { parl_weights^parl_i = parl_weights_normalized^parl_i }
	}

	for_each_loop = {
	    array = parl_weights
	    value = parl_v
	    index = parl_i
	    
	    add_to_variable = {
		    var = tot_parl_weight
		    value = parl_v
		}
	}

	for_each_loop = {
	    array = parl_weights_normalized
	    value = parl_v
	    index = parl_i

	    set_variable = { parl_weights_normalized^parl_i = parl_weights^parl_i }
	    
	    divide_variable = {
		    var = parl_weights_normalized^parl_i
		    value = tot_parl_weight
		}
	}
}

compute_seats = {
	resize_array = {
	    array = seats_array
	    value = -1
	    size = 256
	}
	compute_national_vote = yes

	# for_each_loop = {
		# array = seats_array
		# value = parl_seats_v
		# index = parl_seats_i

		# set_temp_variable = { parl_r = random }

		# set_temp_variable = { sum_of_the_parl_weights = 0 }

		# set_temp_variable = { parl_seat_flag = 0 }

		# for_each_loop = {
		    # array = parl_weights_normalized
		    # value = parl_v
		    # index = parl_i

		    # add_to_temp_variable = {
			    # var = sum_of_the_parl_weights
			    # value = parl_weights_normalized^parl_i
			# }
		    
		    # if = {
		    	# limit = {
		    		# check_variable = { parl_r < sum_of_the_parl_weights }
		    		# check_variable = { parl_seat_flag = 0 }
		    	# }

		    	# set_temp_variable = { parl_seat_ideology = parl_i }
		    	# set_temp_variable = { parl_seat_flag = 1 }
		    # }
		# }

		# set_variable = { seats_array^parl_seats_i = parl_seat_ideology }
	# }

	set_variable = { parl_van_com_seats_count = 0 }
	set_variable = { parl_col_soc_seats_count = 0 }
	set_variable = { parl_soc_ega_seats_count = 0 }
	set_variable = { parl_cen_seats_count = 0 }
	set_variable = { parl_tra_con_seats_count = 0 }
	set_variable = { parl_rad_dem_seats_count = 0 }
	set_variable = { parl_chauv_pop_seats_count = 0 }
	set_variable = { parl_aut_seats_count = 0 }
	set_variable = { parl_fun_seats_count = 0 }

	for_each_loop = {
		array = seats_array
		value = parl_seats_v
		index = parl_seats_i

		resize_array = {
		    array = seats_count_array
		    value = 0
		    size = 9
		}

		if = {
		    limit = {
		    	check_variable = { seats_array^parl_seats_i = 0 }
		    }
		    add_to_variable = {
				var = seats_count_array^0
				value = 1
			}
		}

		else = {
			if = {
			    limit = {
			    	check_variable = { seats_array^parl_seats_i = 1 }
			    }
			    add_to_variable = {
					var = seats_count_array^1
					value = 1
				}
			}

			else = {
				if = {
				    limit = {
				    	check_variable = { seats_array^parl_seats_i = 2 }
				    }
				    add_to_variable = {
						var = seats_count_array^2
						value = 1
					}
				}

				else = {
					if = {
					    limit = {
					    	check_variable = { seats_array^parl_seats_i = 3 }
					    }
					    add_to_variable = {
							var = seats_count_array^3
							value = 1
						}
					}

					else = {
						if = {
						    limit = {
						    	check_variable = { seats_array^parl_seats_i = 4 }
						    }
						    add_to_variable = {
								var = seats_count_array^4
								value = 1
							}
						}

						else = {
							if = {
							    limit = {
							    	check_variable = { seats_array^parl_seats_i = 5 }
							    }
							    add_to_variable = {
									var = seats_count_array^5
									value = 1
								}
							}

							else = {
								if = {
								    limit = {
								    	check_variable = { seats_array^parl_seats_i = 6 }
								    }
								    add_to_variable = {
										var = seats_count_array^6
										value = 1
									}
								}

								else = {
									if = {
									    limit = {
									    	check_variable = { seats_array^parl_seats_i = 7 }
									    }
									    add_to_variable = {
											var = seats_count_array^7
											value = 1
										}
									}

									else = {
									    add_to_variable = {
											var = seats_count_array^8
											value = 1
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

draw_seats = {
	resize_array = {
	    array = parl_seats_gfx
	    value = -1
	    size = 32
	}

	for_each_loop = { # RESET ALL SEAT GFX
	    array = parl_seats_gfx
	    value = parl_gfx_v
	    index = parl_gfx_i

	    set_temp_variable = { parl_seat_id_plus_one = parl_gfx_i }
	    add_to_temp_variable = { parl_seat_id_plus_one = 1 }

	    meta_effect = {
			text = {
				set_variable = { 
					var = seat_[SEAT_ID]
					value = -1
				}
			}
			SEAT_ID = parl_seat_id_plus_one
			IDEOLOGY_VALUE = parl_seat_ideology_id
		}
	}

	for_each_loop = { # LOOP ON ALL SEAT GFX
	    array = parl_seats_gfx
	    value = parl_gfx_v
	    index = parl_gfx_i

	    set_temp_variable = { parl_seat_gfx_id = -1 }
	    set_temp_variable = { parl_sum_seat_count = 0 }
	    set_temp_variable = { parl_seat_gfx_flag = 0 }

	    for_each_loop = { # LOOP ON EACH IDEOLOGY
		    array = seats_count_array
		    value = parl_v
		    index = parl_i

		    add_to_temp_variable = {
			    var = parl_sum_seat_count
			    value = seats_count_array^parl_i
			}

			set_temp_variable = { parl_seat_gfx_times_eight_id = parl_gfx_i } # Don't judge me, life is full of mistake patched over with duct tape
			multiply_temp_variable = { parl_seat_gfx_times_eight_id = 8 }
		    
		    if = {
		    	limit = {
		    		check_variable = { parl_seat_gfx_times_eight_id < parl_sum_seat_count }
		    		check_variable = { parl_seat_gfx_flag = 0 }
		    	}

		    	set_temp_variable = { parl_seat_ideology_id = parl_i }

		    	add_to_temp_variable = { # I SAID DON'T JUDGE ME
				    var = parl_seat_ideology_id
				    value = 1
				}

				set_temp_variable = { parl_seat_id_plus_one = parl_gfx_i }

		    	add_to_temp_variable = { 
				    var = parl_seat_id_plus_one
				    value = 1
				}

		    	meta_effect = {
				    text = {
				        set_variable = { 
				          var = seat_[SEAT_ID]
				          value = [IDEOLOGY_VALUE]
				        }
				    }
				    SEAT_ID = parl_seat_id_plus_one
				    IDEOLOGY_VALUE = parl_seat_ideology_id
				}

		    	set_temp_variable = { parl_seat_ideology = parl_i }
		    	set_temp_variable = { parl_seat_gfx_flag = 1 }
		    }
		}
	}
}

set_generic_party_issues = {
	resize_array = {
	    array = ideology_van_com_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_van_com_issues^0 = 4 }
	set_variable = { ideology_van_com_issues^1 = 4 }
	set_variable = { ideology_van_com_issues^2 = 4 }
	set_variable = { ideology_van_com_issues^3 = 2 }

	resize_array = {
	    array = ideology_col_soc_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_col_soc_issues^0 = 4 }
	set_variable = { ideology_col_soc_issues^1 = 4 }
	set_variable = { ideology_col_soc_issues^2 = 4 }
	set_variable = { ideology_col_soc_issues^3 = 3 }

	resize_array = {
	    array = ideology_soc_ega_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_soc_ega_issues^0 = 4 }
	set_variable = { ideology_soc_ega_issues^1 = 2 }
	set_variable = { ideology_soc_ega_issues^2 = 4 }
	set_variable = { ideology_soc_ega_issues^3 = 4 }

	resize_array = {
	    array = ideology_cen_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_cen_issues^0 = 3 }
	set_variable = { ideology_cen_issues^1 = 1 }
	set_variable = { ideology_cen_issues^2 = 3 }
	set_variable = { ideology_cen_issues^3 = 3 }

	resize_array = {
	    array = ideology_tra_con_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_tra_con_issues^0 = 2 }
	set_variable = { ideology_tra_con_issues^1 = 2 }
	set_variable = { ideology_tra_con_issues^2 = 3 }
	set_variable = { ideology_tra_con_issues^3 = 2 }

	resize_array = {
	    array = ideology_rad_dem_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_rad_dem_issues^0 = 2 }
	set_variable = { ideology_rad_dem_issues^1 = 3 }
	set_variable = { ideology_rad_dem_issues^2 = 2 }
	set_variable = { ideology_rad_dem_issues^3 = 1 }

	resize_array = {
	    array = ideology_chauv_pop_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_chauv_pop_issues^0 = 1 }
	set_variable = { ideology_chauv_pop_issues^1 = 3 }
	set_variable = { ideology_chauv_pop_issues^2 = 2 }
	set_variable = { ideology_chauv_pop_issues^3 = 1 }

	resize_array = {
	    array = ideology_aut_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_aut_issues^0 = 1 }
	set_variable = { ideology_aut_issues^1 = 3 }
	set_variable = { ideology_aut_issues^2 = 1 }
	set_variable = { ideology_aut_issues^3 = 2 }

	resize_array = {
	    array = ideology_fun_issues
	    value = 0
	    size = 4
	}
	set_variable = { ideology_fun_issues^0 = 1 }
	set_variable = { ideology_fun_issues^1 = 3 }
	set_variable = { ideology_fun_issues^2 = 1 }
	set_variable = { ideology_fun_issues^3 = 3 }
}

reset_approval_arrays = {
	resize_array = {
	    array = parl_issue_approval_array
	    value = 0
	    size = 4
	}
}

set_1_approval_highly_disagree = {
	set_variable = { parl_issue_approval_array^0 = -0.5 }
}
set_1_approval_disagree = {
	set_variable = { parl_issue_approval_array^0 = -0.3 }
}
set_1_approval_neutral = {
	set_variable = { parl_issue_approval_array^0 = -0.1 }
}
set_1_approval_agree = {
	set_variable = { parl_issue_approval_array^0 = 0.1 }
}
set_1_approval_highly_agree = {
	set_variable = { parl_issue_approval_array^0 = 0.3 }
}

set_2_approval_highly_disagree = {
	set_variable = { parl_issue_approval_array^1 = -0.5 }
}
set_2_approval_disagree = {
	set_variable = { parl_issue_approval_array^1 = -0.3 }
}
set_2_approval_neutral = {
	set_variable = { parl_issue_approval_array^1 = -0.1 }
}
set_2_approval_agree = {
	set_variable = { parl_issue_approval_array^1 = 0.1 }
}
set_2_approval_highly_agree = {
	set_variable = { parl_issue_approval_array^1 = 0.3 }
}

set_3_approval_highly_disagree = {
	set_variable = { parl_issue_approval_array^2 = -0.5 }
}
set_3_approval_disagree = {
	set_variable = { parl_issue_approval_array^2 = -0.3 }
}
set_3_approval_neutral = {
	set_variable = { parl_issue_approval_array^2 = -0.1 }
}
set_3_approval_agree = {
	set_variable = { parl_issue_approval_array^2 = 0.1 }
}
set_3_approval_highly_agree = {
	set_variable = { parl_issue_approval_array^2 = 0.3 }
}

set_4_approval_highly_disagree = {
	set_variable = { parl_issue_approval_array^3 = -0.5 }
}
set_4_approval_disagree = {
	set_variable = { parl_issue_approval_array^3 = -0.3 }
}
set_4_approval_neutral = {
	set_variable = { parl_issue_approval_array^3 = -0.1 }
}
set_4_approval_agree = {
	set_variable = { parl_issue_approval_array^3 = 0.1 }
}
set_4_approval_highly_agree = {
	set_variable = { parl_issue_approval_array^3 = 0.3 }
}

set_vote_cul = {
	set_variable = { vote_issue_id = 0 }
}
set_vote_eco = {
	set_variable = { vote_issue_id = 1 }
}
set_vote_dem = {
	set_variable = { vote_issue_id = 2 }
}
set_vote_war = {
	set_variable = { vote_issue_id = 3 }
}

compute_voting_approval = {
	resize_array = {
	    array = parl_voting_approval_array
	    value = 0.5
	    size = 9
	}

	for_each_loop = {
	    array = parl_voting_approval_array
	    value = parl_v
	    index = parl_i
	    
	    set_variable = { parl_voting_approval_array^parl_i = 0.5 }
	}

	set_temp_variable = { comp_value = 0 }

	# VAN_COM CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_van_com_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }

	set_temp_variable = { comp_value = parl_voting_approval_array^0 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^0 = comp_value }



	# COL_SOC CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_col_soc_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^1 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^1 = comp_value }



	# SOC_EGA CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_soc_ega_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^2 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^2 = comp_value }



	# CEN CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_cen_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^3 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^3 = comp_value }



	# TRA_CON CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_tra_con_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^4 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^4 = comp_value }



	# RAD_DEM CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_rad_dem_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^5 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^5 = comp_value }



	# CHAUV_POP CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_chauv_pop_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^6 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^6 = comp_value }



	# AUT CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_aut_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^7 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^7 = comp_value }



	# FUN CALCULATIONS
	set_temp_variable = { comp_value_cursor = ideology_fun_issues^vote_issue_id }
	add_to_temp_variable = { comp_value_cursor = -1 }
	
	set_temp_variable = { comp_value = parl_voting_approval_array^8 }
	add_to_temp_variable = { comp_value = parl_issue_approval_array^comp_value_cursor }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		set_temp_variable = { parl_r = random }
		multiply_temp_variable = { parl_r = 0.2 }
		add_to_temp_variable = { parl_r = -0.1 }
	}

	add_to_temp_variable = { comp_value = parl_r }
	set_variable = { parl_voting_approval_array^8 = comp_value }

	if = {
		limit = {
			NOT = { has_country_flag = parl_vote_deterministic }
		}
		clr_country_flag = parl_vote_deterministic
	}
}

calculate_vote_result = {
	set_variable = { yay_votes = 0 }
	set_variable = { nay_votes = 0 }

	for_each_loop = {
	    array = seats_array
	    value = parl_v
	    index = parl_i

	    set_temp_variable = { parl_r = random }

	    if = {
	    	limit = {
	    		check_variable = { parl_r < parl_voting_approval_array^seats_array^parl_i }
	    	}
	    	add_to_variable = { yay_votes = 1 }
	    }
	    
	    else = {
	    	add_to_variable = { nay_votes = 1 }
	    }
	}

	if = {
		limit = {
			check_variable = { yay_votes > nay_votes }
		}
		set_country_flag = eoanb_reform_vote_success
	}

	else = {
		if = {
			limit = {
				check_variable = { yay_votes < nay_votes }
			}
			set_country_flag = eoanb_reform_vote_failure
		}

		else = {
			set_country_flag = eoanb_reform_vote_tie
		}
	}
}

compute_number_seats_tot = {
	set_variable = { parl_tot_num_seats = 0 }

	for_each_loop = {
	    array = seats_count_array
	    value = parl_v
	    index = parl_i

	    add_to_variable = { parl_tot_num_seats = seats_count_array^parl_i }
	}

	set_variable = { parl_num_seats_half = parl_tot_num_seats }
	divide_variable = { parl_num_seats_half = 2 }
	round_variable = parl_num_seats_half
}

compute_number_seats_approve_est = {
	set_variable = { parl_est_num_seats = 0 }

	for_each_loop = {
	    array = seats_count_array
	    value = parl_v
	    index = parl_i

	    set_temp_variable = { seat_est_w_approval = seats_count_array^parl_i }
	    multiply_temp_variable = { seat_est_w_approval = parl_voting_approval_array^parl_i }

	    add_to_variable = { parl_est_num_seats = seat_est_w_approval }
	}

	round_variable = parl_est_num_seats
}


compute_national_vote = {
	###much better system to transfer popularity to parlement seats

	set_variable = { n_parl_weights^0 = party_popularity@vanguard_communism }
	set_variable = { n_parl_weights^1 = party_popularity@collectivist_socialism }
	set_variable = { n_parl_weights^2 = party_popularity@social_egalitarianism }
	set_variable = { n_parl_weights^3 = party_popularity@centrism }
	set_variable = { n_parl_weights^4 = party_popularity@traditional_conservatism }
	set_variable = { n_parl_weights^5 = party_popularity@radical_democracy }
	set_variable = { n_parl_weights^6 = party_popularity@chauvinist_populism }
	set_variable = { n_parl_weights^7 = party_popularity@autocracy }
	set_variable = { n_parl_weights^8 = party_popularity@fundamentalism }
	
	set_variable = { parl_fun_seats_count = party_popularity@fundamentalism }
	multiply_variable = { parl_fun_seats_count = 256 }
	set_variable = { parl_aut_seats_count = party_popularity@autocracy }
	multiply_variable = { parl_aut_seats_count = 256 }
	set_variable = { parl_chauv_pop_seats_count = party_popularity@chauvinist_populism }
	multiply_variable = { parl_chauv_pop_seats_count = 256 }
	set_variable = { parl_rad_dem_seats_count = party_popularity@radical_democracy }
	multiply_variable = { parl_rad_dem_seats_count = 256 }
	set_variable = { parl_tra_con_seats_count = party_popularity@traditional_conservatism }
	multiply_variable = { parl_tra_con_seats_count = 256 }
	set_variable = { parl_cen_seats_count = party_popularity@centrism }
	multiply_variable = { parl_cen_seats_count = 256 }
	set_variable = { parl_soc_ega_seats_count = party_popularity@social_egalitarianism }
	multiply_variable = { parl_soc_ega_seats_count = 256 }
	set_variable = { parl_col_soc_seats_count = party_popularity@collectivist_socialism }
	multiply_variable = { parl_col_soc_seats_count = 256 }
	set_variable = { parl_van_com_seats_count = party_popularity@vanguard_communism }
	multiply_variable = { parl_van_com_seats_count = 256 }
	# resize_array = {
	    # array = total_parties
	    # value = 1
	    # size = 32
	# }
	
	resize_array = {
	    array = seats_auto
	    value = 1
	    size = parl_aut_seats_count
	}
	resize_array = {
	    array = seats_fund
	    value = 1
	    size = parl_fun_seats_count
	}
	resize_array = {
	    array = chav_seats
	    value = 1
	    size = parl_chauv_pop_seats_count
	}
	resize_array = {
	    array = rade_seats
	    value = 1
	    size = parl_rad_dem_seats_count
	}
	resize_array = {
	    array = trad_seats
	    value = 1
	    size = parl_tra_con_seats_count
	}
	resize_array = {
	    array = cent_seats
	    value = 1
	    size = parl_cen_seats_count
	}
	resize_array = {
	    array = socegl_seats
	    value = 1
	    size = parl_soc_ega_seats_count
	}
	resize_array = {
	    array = coll_seats
	    value = 1
	    size = parl_col_soc_seats_count
	}
	resize_array = {
	    array = vanc_seats
	    value = 1
	    size = parl_van_com_seats_count
	}
	set_temp_variable = { random_seed = random }
	set_temp_variable = { current_seat_posistion = 0 }
	
	if = {
		limit = {
			NOT={has_country_flag = IP_CUSTOM_PARTIES_SET}
		}
		# for_each_loop = {
			# array = internal_politics_parties
			# value = ipp_v
			# index = ipp_i
			
			# set_variable = { parl_voting_approval_array^parl_i = 0.5 }
		# }
		
		
		for_each_loop = {
			array = seats_fund
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 8 }
			add_to_temp_variable = {current_seat_posistion = 1}
			
		}
		for_each_loop = {
			array = seats_auto
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 7 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = chav_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 6 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = rade_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 5 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = trad_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 4 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = cent_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 3 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = socegl_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 2 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = coll_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 1 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		for_each_loop = {
			array = vanc_seats
			value = ipp_v
			index = ipp_i
			
			set_variable = { seats_array^current_seat_posistion = 0 }
			add_to_temp_variable = {current_seat_posistion = 1}
		}
		
	}

}

#####new system for seats
set_global_seats_posistions = {
	clear_array=global.internal_politics_house_x
	clear_array=global.internal_politics_house_y
	add_to_array = { global.internal_politics_house_x = 0 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 13 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 25 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 38 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 51 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 63 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 76 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 89 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 1 }
	add_to_array = { global.internal_politics_house_y = 148 }
	add_to_array = { global.internal_politics_house_x = 101 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 14 }
	add_to_array = { global.internal_politics_house_y = 148 }
	add_to_array = { global.internal_politics_house_x = 27 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 40 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 52 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 65 }
	add_to_array = { global.internal_politics_house_y = 150 }
	add_to_array = { global.internal_politics_house_x = 4 }
	add_to_array = { global.internal_politics_house_y = 135 }
	add_to_array = { global.internal_politics_house_x = 17 }
	add_to_array = { global.internal_politics_house_y = 135 }
	add_to_array = { global.internal_politics_house_x = 78 }
	add_to_array = { global.internal_politics_house_y = 150 }
	add_to_array = { global.internal_politics_house_x = 29 }
	add_to_array = { global.internal_politics_house_y = 136 }
	add_to_array = { global.internal_politics_house_x = 91 }
	add_to_array = { global.internal_politics_house_y = 151 }
	add_to_array = { global.internal_politics_house_x = 42 }
	add_to_array = { global.internal_politics_house_y = 136 }
	add_to_array = { global.internal_politics_house_x = 7 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 56 }
	add_to_array = { global.internal_politics_house_y = 137 }
	add_to_array = { global.internal_politics_house_x = 104 }
	add_to_array = { global.internal_politics_house_y = 151 }
	add_to_array = { global.internal_politics_house_x = 20 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 69 }
	add_to_array = { global.internal_politics_house_y = 138 }
	add_to_array = { global.internal_politics_house_x = 33 }
	add_to_array = { global.internal_politics_house_y = 124 }
	add_to_array = { global.internal_politics_house_x = 82 }
	add_to_array = { global.internal_politics_house_y = 138 }
	add_to_array = { global.internal_politics_house_x = 47 }
	add_to_array = { global.internal_politics_house_y = 124 }
	add_to_array = { global.internal_politics_house_x = 11 }
	add_to_array = { global.internal_politics_house_y = 110 }
	add_to_array = { global.internal_politics_house_x = 25 }
	add_to_array = { global.internal_politics_house_y = 110 }
	add_to_array = { global.internal_politics_house_x = 95 }
	add_to_array = { global.internal_politics_house_y = 140 }
	add_to_array = { global.internal_politics_house_x = 60 }
	add_to_array = { global.internal_politics_house_y = 125 }
	add_to_array = { global.internal_politics_house_x = 38 }
	add_to_array = { global.internal_politics_house_y = 112 }
	add_to_array = { global.internal_politics_house_x = 73 }
	add_to_array = { global.internal_politics_house_y = 126 }
	add_to_array = { global.internal_politics_house_x = 17 }
	add_to_array = { global.internal_politics_house_y = 98 }
	add_to_array = { global.internal_politics_house_x = 52 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 108 }
	add_to_array = { global.internal_politics_house_y = 141 }
	add_to_array = { global.internal_politics_house_x = 31 }
	add_to_array = { global.internal_politics_house_y = 98 }
	add_to_array = { global.internal_politics_house_x = 87 }
	add_to_array = { global.internal_politics_house_y = 127 }
	add_to_array = { global.internal_politics_house_x = 44 }
	add_to_array = { global.internal_politics_house_y = 101 }
	add_to_array = { global.internal_politics_house_x = 66 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 23 }
	add_to_array = { global.internal_politics_house_y = 86 }
	add_to_array = { global.internal_politics_house_x = 100 }
	add_to_array = { global.internal_politics_house_y = 130 }
	add_to_array = { global.internal_politics_house_x = 79 }
	add_to_array = { global.internal_politics_house_y = 116 }
	add_to_array = { global.internal_politics_house_x = 58 }
	add_to_array = { global.internal_politics_house_y = 101 }
	add_to_array = { global.internal_politics_house_x = 38 }
	add_to_array = { global.internal_politics_house_y = 87 }
	add_to_array = { global.internal_politics_house_x = 51 }
	add_to_array = { global.internal_politics_house_y = 90 }
	add_to_array = { global.internal_politics_house_x = 30 }
	add_to_array = { global.internal_politics_house_y = 75 }
	add_to_array = { global.internal_politics_house_x = 73 }
	add_to_array = { global.internal_politics_house_y = 102 }
	add_to_array = { global.internal_politics_house_x = 94 }
	add_to_array = { global.internal_politics_house_y = 117 }
	add_to_array = { global.internal_politics_house_x = 114 }
	add_to_array = { global.internal_politics_house_y = 132 }
	add_to_array = { global.internal_politics_house_x = 45 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 66 }
	add_to_array = { global.internal_politics_house_y = 91 }
	add_to_array = { global.internal_politics_house_x = 86 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 39 }
	add_to_array = { global.internal_politics_house_y = 65 }
	add_to_array = { global.internal_politics_house_x = 107 }
	add_to_array = { global.internal_politics_house_y = 121 }
	add_to_array = { global.internal_politics_house_x = 59 }
	add_to_array = { global.internal_politics_house_y = 80 }
	add_to_array = { global.internal_politics_house_x = 81 }
	add_to_array = { global.internal_politics_house_y = 93 }
	add_to_array = { global.internal_politics_house_x = 54 }
	add_to_array = { global.internal_politics_house_y = 66 }
	add_to_array = { global.internal_politics_house_x = 101 }
	add_to_array = { global.internal_politics_house_y = 108 }
	add_to_array = { global.internal_politics_house_x = 74 }
	add_to_array = { global.internal_politics_house_y = 81 }
	add_to_array = { global.internal_politics_house_x = 47 }
	add_to_array = { global.internal_politics_house_y = 55 }
	add_to_array = { global.internal_politics_house_x = 68 }
	add_to_array = { global.internal_politics_house_y = 70 }
	add_to_array = { global.internal_politics_house_x = 95 }
	add_to_array = { global.internal_politics_house_y = 97 }
	add_to_array = { global.internal_politics_house_x = 122 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 64 }
	add_to_array = { global.internal_politics_house_y = 57 }
	add_to_array = { global.internal_politics_house_x = 115 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 57 }
	add_to_array = { global.internal_politics_house_y = 46 }
	add_to_array = { global.internal_politics_house_x = 90 }
	add_to_array = { global.internal_politics_house_y = 84 }
	add_to_array = { global.internal_politics_house_x = 84 }
	add_to_array = { global.internal_politics_house_y = 73 }
	add_to_array = { global.internal_politics_house_x = 77 }
	add_to_array = { global.internal_politics_house_y = 62 }
	add_to_array = { global.internal_politics_house_x = 110 }
	add_to_array = { global.internal_politics_house_y = 100 }
	add_to_array = { global.internal_politics_house_x = 104 }
	add_to_array = { global.internal_politics_house_y = 89 }
	add_to_array = { global.internal_politics_house_x = 74 }
	add_to_array = { global.internal_politics_house_y = 48 }
	add_to_array = { global.internal_politics_house_x = 68 }
	add_to_array = { global.internal_politics_house_y = 37 }
	add_to_array = { global.internal_politics_house_x = 100 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 94 }
	add_to_array = { global.internal_politics_house_y = 65 }
	add_to_array = { global.internal_politics_house_x = 88 }
	add_to_array = { global.internal_politics_house_y = 54 }
	add_to_array = { global.internal_politics_house_x = 130 }
	add_to_array = { global.internal_politics_house_y = 117 }
	add_to_array = { global.internal_politics_house_x = 124 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 85 }
	add_to_array = { global.internal_politics_house_y = 41 }
	add_to_array = { global.internal_politics_house_x = 79 }
	add_to_array = { global.internal_politics_house_y = 30 }
	add_to_array = { global.internal_politics_house_x = 121 }
	add_to_array = { global.internal_politics_house_y = 93 }
	add_to_array = { global.internal_politics_house_x = 114 }
	add_to_array = { global.internal_politics_house_y = 82 }
	add_to_array = { global.internal_politics_house_x = 99 }
	add_to_array = { global.internal_politics_house_y = 47 }
	add_to_array = { global.internal_politics_house_x = 105 }
	add_to_array = { global.internal_politics_house_y = 58 }
	add_to_array = { global.internal_politics_house_x = 111 }
	add_to_array = { global.internal_politics_house_y = 69 }
	add_to_array = { global.internal_politics_house_x = 90 }
	add_to_array = { global.internal_politics_house_y = 23 }
	add_to_array = { global.internal_politics_house_x = 96 }
	add_to_array = { global.internal_politics_house_y = 34 }
	add_to_array = { global.internal_politics_house_x = 134 }
	add_to_array = { global.internal_politics_house_y = 100 }
	add_to_array = { global.internal_politics_house_x = 140 }
	add_to_array = { global.internal_politics_house_y = 111 }
	add_to_array = { global.internal_politics_house_x = 125 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 110 }
	add_to_array = { global.internal_politics_house_y = 42 }
	add_to_array = { global.internal_politics_house_x = 131 }
	add_to_array = { global.internal_politics_house_y = 87 }
	add_to_array = { global.internal_politics_house_x = 117 }
	add_to_array = { global.internal_politics_house_y = 53 }
	add_to_array = { global.internal_politics_house_x = 102 }
	add_to_array = { global.internal_politics_house_y = 18 }
	add_to_array = { global.internal_politics_house_x = 108 }
	add_to_array = { global.internal_politics_house_y = 29 }
	add_to_array = { global.internal_politics_house_x = 123 }
	add_to_array = { global.internal_politics_house_y = 64 }
	add_to_array = { global.internal_politics_house_x = 122 }
	add_to_array = { global.internal_politics_house_y = 37 }
	add_to_array = { global.internal_politics_house_x = 115 }
	add_to_array = { global.internal_politics_house_y = 13 }
	add_to_array = { global.internal_politics_house_x = 121 }
	add_to_array = { global.internal_politics_house_y = 24 }
	add_to_array = { global.internal_politics_house_x = 129 }
	add_to_array = { global.internal_politics_house_y = 48 }
	add_to_array = { global.internal_politics_house_x = 137 }
	add_to_array = { global.internal_politics_house_y = 72 }
	add_to_array = { global.internal_politics_house_x = 144 }
	add_to_array = { global.internal_politics_house_y = 96 }
	add_to_array = { global.internal_politics_house_x = 135 }
	add_to_array = { global.internal_politics_house_y = 59 }
	add_to_array = { global.internal_politics_house_x = 143 }
	add_to_array = { global.internal_politics_house_y = 84 }
	add_to_array = { global.internal_politics_house_x = 150 }
	add_to_array = { global.internal_politics_house_y = 108 }
	add_to_array = { global.internal_politics_house_x = 127 }
	add_to_array = { global.internal_politics_house_y = 9 }
	add_to_array = { global.internal_politics_house_x = 135 }
	add_to_array = { global.internal_politics_house_y = 33 }
	add_to_array = { global.internal_politics_house_x = 134 }
	add_to_array = { global.internal_politics_house_y = 21 }
	add_to_array = { global.internal_politics_house_x = 141 }
	add_to_array = { global.internal_politics_house_y = 45 }
	add_to_array = { global.internal_politics_house_x = 149 }
	add_to_array = { global.internal_politics_house_y = 69 }
	add_to_array = { global.internal_politics_house_x = 148 }
	add_to_array = { global.internal_politics_house_y = 57 }
	add_to_array = { global.internal_politics_house_x = 140 }
	add_to_array = { global.internal_politics_house_y = 7 }
	add_to_array = { global.internal_politics_house_x = 155 }
	add_to_array = { global.internal_politics_house_y = 94 }
	add_to_array = { global.internal_politics_house_x = 148 }
	add_to_array = { global.internal_politics_house_y = 31 }
	add_to_array = { global.internal_politics_house_x = 155 }
	add_to_array = { global.internal_politics_house_y = 81 }
	add_to_array = { global.internal_politics_house_x = 147 }
	add_to_array = { global.internal_politics_house_y = 18 }
	add_to_array = { global.internal_politics_house_x = 154 }
	add_to_array = { global.internal_politics_house_y = 43 }
	add_to_array = { global.internal_politics_house_x = 161 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 154 }
	add_to_array = { global.internal_politics_house_y = 5 }
	add_to_array = { global.internal_politics_house_x = 161 }
	add_to_array = { global.internal_politics_house_y = 68 }
	add_to_array = { global.internal_politics_house_x = 160 }
	add_to_array = { global.internal_politics_house_y = 55 }
	add_to_array = { global.internal_politics_house_x = 160 }
	add_to_array = { global.internal_politics_house_y = 30 }
	add_to_array = { global.internal_politics_house_x = 160 }
	add_to_array = { global.internal_politics_house_y = 17 }
	add_to_array = { global.internal_politics_house_x = 167 }
	add_to_array = { global.internal_politics_house_y = 80 }
	add_to_array = { global.internal_politics_house_x = 167 }
	add_to_array = { global.internal_politics_house_y = 93 }
	add_to_array = { global.internal_politics_house_x = 167 }
	add_to_array = { global.internal_politics_house_y = 42 }
	add_to_array = { global.internal_politics_house_x = 167 }
	add_to_array = { global.internal_politics_house_y = 5 }
	add_to_array = { global.internal_politics_house_x = 173 }
	add_to_array = { global.internal_politics_house_y = 17 }
	add_to_array = { global.internal_politics_house_x = 173 }
	add_to_array = { global.internal_politics_house_y = 30 }
	add_to_array = { global.internal_politics_house_x = 173 }
	add_to_array = { global.internal_politics_house_y = 55 }
	add_to_array = { global.internal_politics_house_x = 173 }
	add_to_array = { global.internal_politics_house_y = 68 }
	add_to_array = { global.internal_politics_house_x = 180 }
	add_to_array = { global.internal_politics_house_y = 5 }
	add_to_array = { global.internal_politics_house_x = 172 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 180 }
	add_to_array = { global.internal_politics_house_y = 43 }
	add_to_array = { global.internal_politics_house_x = 187 }
	add_to_array = { global.internal_politics_house_y = 18 }
	add_to_array = { global.internal_politics_house_x = 179 }
	add_to_array = { global.internal_politics_house_y = 81 }
	add_to_array = { global.internal_politics_house_x = 186 }
	add_to_array = { global.internal_politics_house_y = 31 }
	add_to_array = { global.internal_politics_house_x = 178 }
	add_to_array = { global.internal_politics_house_y = 94 }
	add_to_array = { global.internal_politics_house_x = 193 }
	add_to_array = { global.internal_politics_house_y = 7 }
	add_to_array = { global.internal_politics_house_x = 186 }
	add_to_array = { global.internal_politics_house_y = 57 }
	add_to_array = { global.internal_politics_house_x = 185 }
	add_to_array = { global.internal_politics_house_y = 69 }
	add_to_array = { global.internal_politics_house_x = 192 }
	add_to_array = { global.internal_politics_house_y = 45 }
	add_to_array = { global.internal_politics_house_x = 200 }
	add_to_array = { global.internal_politics_house_y = 21 }
	add_to_array = { global.internal_politics_house_x = 199 }
	add_to_array = { global.internal_politics_house_y = 33 }
	add_to_array = { global.internal_politics_house_x = 206 }
	add_to_array = { global.internal_politics_house_y = 9 }
	add_to_array = { global.internal_politics_house_x = 183 }
	add_to_array = { global.internal_politics_house_y = 108 }
	add_to_array = { global.internal_politics_house_x = 191 }
	add_to_array = { global.internal_politics_house_y = 84 }
	add_to_array = { global.internal_politics_house_x = 198 }
	add_to_array = { global.internal_politics_house_y = 59 }
	add_to_array = { global.internal_politics_house_x = 189 }
	add_to_array = { global.internal_politics_house_y = 96 }
	add_to_array = { global.internal_politics_house_x = 197 }
	add_to_array = { global.internal_politics_house_y = 72 }
	add_to_array = { global.internal_politics_house_x = 205 }
	add_to_array = { global.internal_politics_house_y = 48 }
	add_to_array = { global.internal_politics_house_x = 213 }
	add_to_array = { global.internal_politics_house_y = 24 }
	add_to_array = { global.internal_politics_house_x = 219 }
	add_to_array = { global.internal_politics_house_y = 13 }
	add_to_array = { global.internal_politics_house_x = 211 }
	add_to_array = { global.internal_politics_house_y = 37 }
	add_to_array = { global.internal_politics_house_x = 211 }
	add_to_array = { global.internal_politics_house_y = 64 }
	add_to_array = { global.internal_politics_house_x = 225 }
	add_to_array = { global.internal_politics_house_y = 29 }
	add_to_array = { global.internal_politics_house_x = 232 }
	add_to_array = { global.internal_politics_house_y = 18 }
	add_to_array = { global.internal_politics_house_x = 217 }
	add_to_array = { global.internal_politics_house_y = 53 }
	add_to_array = { global.internal_politics_house_x = 202 }
	add_to_array = { global.internal_politics_house_y = 87 }
	add_to_array = { global.internal_politics_house_x = 223 }
	add_to_array = { global.internal_politics_house_y = 42 }
	add_to_array = { global.internal_politics_house_x = 209 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 194 }
	add_to_array = { global.internal_politics_house_y = 111 }
	add_to_array = { global.internal_politics_house_x = 200 }
	add_to_array = { global.internal_politics_house_y = 100 }
	add_to_array = { global.internal_politics_house_x = 237 }
	add_to_array = { global.internal_politics_house_y = 34 }
	add_to_array = { global.internal_politics_house_x = 244 }
	add_to_array = { global.internal_politics_house_y = 23 }
	add_to_array = { global.internal_politics_house_x = 222 }
	add_to_array = { global.internal_politics_house_y = 69 }
	add_to_array = { global.internal_politics_house_x = 229 }
	add_to_array = { global.internal_politics_house_y = 58 }
	add_to_array = { global.internal_politics_house_x = 235 }
	add_to_array = { global.internal_politics_house_y = 47 }
	add_to_array = { global.internal_politics_house_x = 219 }
	add_to_array = { global.internal_politics_house_y = 82 }
	add_to_array = { global.internal_politics_house_x = 213 }
	add_to_array = { global.internal_politics_house_y = 93 }
	add_to_array = { global.internal_politics_house_x = 255 }
	add_to_array = { global.internal_politics_house_y = 30 }
	add_to_array = { global.internal_politics_house_x = 249 }
	add_to_array = { global.internal_politics_house_y = 41 }
	add_to_array = { global.internal_politics_house_x = 210 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 203 }
	add_to_array = { global.internal_politics_house_y = 117 }
	add_to_array = { global.internal_politics_house_x = 246 }
	add_to_array = { global.internal_politics_house_y = 54 }
	add_to_array = { global.internal_politics_house_x = 240 }
	add_to_array = { global.internal_politics_house_y = 65 }
	add_to_array = { global.internal_politics_house_x = 233 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 266 }
	add_to_array = { global.internal_politics_house_y = 37 }
	add_to_array = { global.internal_politics_house_x = 260 }
	add_to_array = { global.internal_politics_house_y = 48 }
	add_to_array = { global.internal_politics_house_x = 230 }
	add_to_array = { global.internal_politics_house_y = 89 }
	add_to_array = { global.internal_politics_house_x = 223 }
	add_to_array = { global.internal_politics_house_y = 100 }
	add_to_array = { global.internal_politics_house_x = 256 }
	add_to_array = { global.internal_politics_house_y = 62 }
	add_to_array = { global.internal_politics_house_x = 250 }
	add_to_array = { global.internal_politics_house_y = 73 }
	add_to_array = { global.internal_politics_house_x = 243 }
	add_to_array = { global.internal_politics_house_y = 84 }
	add_to_array = { global.internal_politics_house_x = 276 }
	add_to_array = { global.internal_politics_house_y = 46 }
	add_to_array = { global.internal_politics_house_x = 219 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 270 }
	add_to_array = { global.internal_politics_house_y = 57 }
	add_to_array = { global.internal_politics_house_x = 212 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 239 }
	add_to_array = { global.internal_politics_house_y = 97 }
	add_to_array = { global.internal_politics_house_x = 266 }
	add_to_array = { global.internal_politics_house_y = 70 }
	add_to_array = { global.internal_politics_house_x = 286 }
	add_to_array = { global.internal_politics_house_y = 55 }
	add_to_array = { global.internal_politics_house_x = 259 }
	add_to_array = { global.internal_politics_house_y = 81 }
	add_to_array = { global.internal_politics_house_x = 232 }
	add_to_array = { global.internal_politics_house_y = 108 }
	add_to_array = { global.internal_politics_house_x = 280 }
	add_to_array = { global.internal_politics_house_y = 66 }
	add_to_array = { global.internal_politics_house_x = 252 }
	add_to_array = { global.internal_politics_house_y = 93 }
	add_to_array = { global.internal_politics_house_x = 275 }
	add_to_array = { global.internal_politics_house_y = 80 }
	add_to_array = { global.internal_politics_house_x = 227 }
	add_to_array = { global.internal_politics_house_y = 121 }
	add_to_array = { global.internal_politics_house_x = 295 }
	add_to_array = { global.internal_politics_house_y = 65 }
	add_to_array = { global.internal_politics_house_x = 247 }
	add_to_array = { global.internal_politics_house_y = 106 }
	add_to_array = { global.internal_politics_house_x = 268 }
	add_to_array = { global.internal_politics_house_y = 91 }
	add_to_array = { global.internal_politics_house_x = 288 }
	add_to_array = { global.internal_politics_house_y = 76 }
	add_to_array = { global.internal_politics_house_x = 219 }
	add_to_array = { global.internal_politics_house_y = 132 }
	add_to_array = { global.internal_politics_house_x = 240 }
	add_to_array = { global.internal_politics_house_y = 117 }
	add_to_array = { global.internal_politics_house_x = 261 }
	add_to_array = { global.internal_politics_house_y = 102 }
	add_to_array = { global.internal_politics_house_x = 303 }
	add_to_array = { global.internal_politics_house_y = 75 }
	add_to_array = { global.internal_politics_house_x = 283 }
	add_to_array = { global.internal_politics_house_y = 90 }
	add_to_array = { global.internal_politics_house_x = 296 }
	add_to_array = { global.internal_politics_house_y = 87 }
	add_to_array = { global.internal_politics_house_x = 275 }
	add_to_array = { global.internal_politics_house_y = 101 }
	add_to_array = { global.internal_politics_house_x = 254 }
	add_to_array = { global.internal_politics_house_y = 116 }
	add_to_array = { global.internal_politics_house_x = 234 }
	add_to_array = { global.internal_politics_house_y = 130 }
	add_to_array = { global.internal_politics_house_x = 310 }
	add_to_array = { global.internal_politics_house_y = 86 }
	add_to_array = { global.internal_politics_house_x = 268 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 290 }
	add_to_array = { global.internal_politics_house_y = 101 }
	add_to_array = { global.internal_politics_house_x = 247 }
	add_to_array = { global.internal_politics_house_y = 127 }
	add_to_array = { global.internal_politics_house_x = 303 }
	add_to_array = { global.internal_politics_house_y = 98 }
	add_to_array = { global.internal_politics_house_x = 225 }
	add_to_array = { global.internal_politics_house_y = 141 }
	add_to_array = { global.internal_politics_house_x = 282 }
	add_to_array = { global.internal_politics_house_y = 113 }
	add_to_array = { global.internal_politics_house_x = 317 }
	add_to_array = { global.internal_politics_house_y = 98 }
	add_to_array = { global.internal_politics_house_x = 260 }
	add_to_array = { global.internal_politics_house_y = 126 }
	add_to_array = { global.internal_politics_house_x = 296 }
	add_to_array = { global.internal_politics_house_y = 112 }
	add_to_array = { global.internal_politics_house_x = 274 }
	add_to_array = { global.internal_politics_house_y = 125 }
	add_to_array = { global.internal_politics_house_x = 239 }
	add_to_array = { global.internal_politics_house_y = 140 }
	add_to_array = { global.internal_politics_house_x = 309 }
	add_to_array = { global.internal_politics_house_y = 110 }
	add_to_array = { global.internal_politics_house_x = 322 }
	add_to_array = { global.internal_politics_house_y = 110 }
	add_to_array = { global.internal_politics_house_x = 287 }
	add_to_array = { global.internal_politics_house_y = 124 }
	add_to_array = { global.internal_politics_house_x = 252 }
	add_to_array = { global.internal_politics_house_y = 138 }
	add_to_array = { global.internal_politics_house_x = 300 }
	add_to_array = { global.internal_politics_house_y = 124 }
	add_to_array = { global.internal_politics_house_x = 265 }
	add_to_array = { global.internal_politics_house_y = 138 }
	add_to_array = { global.internal_politics_house_x = 313 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 230 }
	add_to_array = { global.internal_politics_house_y = 151 }
	add_to_array = { global.internal_politics_house_x = 278 }
	add_to_array = { global.internal_politics_house_y = 137 }
	add_to_array = { global.internal_politics_house_x = 327 }
	add_to_array = { global.internal_politics_house_y = 123 }
	add_to_array = { global.internal_politics_house_x = 291 }
	add_to_array = { global.internal_politics_house_y = 136 }
	add_to_array = { global.internal_politics_house_x = 243 }
	add_to_array = { global.internal_politics_house_y = 151 }
	add_to_array = { global.internal_politics_house_x = 304 }
	add_to_array = { global.internal_politics_house_y = 136 }
	add_to_array = { global.internal_politics_house_x = 256 }
	add_to_array = { global.internal_politics_house_y = 150 }
	add_to_array = { global.internal_politics_house_x = 317 }
	add_to_array = { global.internal_politics_house_y = 135 }
	add_to_array = { global.internal_politics_house_x = 330 }
	add_to_array = { global.internal_politics_house_y = 135 }
	add_to_array = { global.internal_politics_house_x = 268 }
	add_to_array = { global.internal_politics_house_y = 150 }
	add_to_array = { global.internal_politics_house_x = 281 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 294 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 307 }
	add_to_array = { global.internal_politics_house_y = 149 }
	add_to_array = { global.internal_politics_house_x = 320 }
	add_to_array = { global.internal_politics_house_y = 148 }
	add_to_array = { global.internal_politics_house_x = 232 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 332 }
	add_to_array = { global.internal_politics_house_y = 148 }
	add_to_array = { global.internal_politics_house_x = 245 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 258 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 270 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 283 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 296 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 308 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 321 }
	add_to_array = { global.internal_politics_house_y = 162 }
	add_to_array = { global.internal_politics_house_x = 334 }
	add_to_array = { global.internal_politics_house_y = 162 }
}